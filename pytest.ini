[tool:pytest]
minversion = 7.0
addopts = 
    -ra 
    --strict-markers 
    --strict-config 
    --cov=ytmusic_tui 
    --cov-report=term-missing 
    --cov-report=html 
    --cov-report=xml
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Configure warnings
filterwarnings =
    error
    ignore::UserWarning
    ignore::DeprecationWarning
    ignore::pytest.PytestUnknownMarkWarning
    ignore::RuntimeWarning:ytmusic_tui
    ignore::pytest.PytestUnhandledThreadExceptionWarning

# Configure async tests
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# Test markers
markers =
    unit: Unit tests - fast, isolated, no external dependencies
    integration: Integration tests - test component interactions
    e2e: End-to-end tests - full workflow tests
    slow: Slow tests that may take several seconds
    network: Tests requiring internet connection
    external: Tests requiring external tools (mpv, yt-dlp) 